<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.3">Jekyll</generator><link href="http://localhost:4000/blog/feed/by_tag/plan9.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/blog/" rel="alternate" type="text/html" /><updated>2023-07-13T12:09:58-04:00</updated><id>http://localhost:4000/blog/feed/by_tag/plan9.xml</id><title type="html">Jacob’s Blog</title><subtitle>Feel to reach out to me at jacoblevgw at gmail</subtitle><entry><title type="html">Remote CPU Server On 9front</title><link href="http://localhost:4000/blog/plan9/2021/05/19/cpuserv.html" rel="alternate" type="text/html" title="Remote CPU Server On 9front" /><published>2021-05-19T08:47:21-04:00</published><updated>2021-05-19T08:47:21-04:00</updated><id>http://localhost:4000/blog/plan9/2021/05/19/cpuserv</id><content type="html" xml:base="http://localhost:4000/blog/plan9/2021/05/19/cpuserv.html">&lt;p&gt;I have been recently learning about &lt;a href=&quot;http://9front.org/&quot;&gt;9front&lt;/a&gt;, a modern distribution of plan9.&lt;/p&gt;

&lt;p&gt;I installed it on my Thinkpad x220 laptop. Since my laptop uses a Realtek wifi card, I did not get wifi, so I had to do some weird ethernet connection things with my desktop. Needless to say, I got it working by adding Ethernet out of my desktop with NetworkManager on Linux.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Amavect&lt;/code&gt; on irc &lt;strong&gt;&lt;em&gt;very&lt;/em&gt;&lt;/strong&gt; kindly walked me through the process, so I want to have it here for my future self as well as anyone why wanders by with the same question.&lt;/p&gt;

&lt;p&gt;To start we need to specify ourselves as the auth server.
This is done by editing /lib/ndb/local database.
Here is mine:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-ndb&quot;&gt;#
#  files comprising the database, use as many as you like, see ndb(6)
#
database=
	file=/net/ndb
	file=/lib/ndb/local
	file=/lib/ndb/common

#
#  entries defining the dns root.  these will be overridden by any
#  authentic info obtained from the root.
#
dom=
	ns=A.ROOT-SERVERS.NET
	ns=B.ROOT-SERVERS.NET
	ns=C.ROOT-SERVERS.NET
	ns=D.ROOT-SERVERS.NET
	ns=E.ROOT-SERVERS.NET
	ns=F.ROOT-SERVERS.NET
	ns=G.ROOT-SERVERS.NET
	ns=H.ROOT-SERVERS.NET
	ns=I.ROOT-SERVERS.NET
	ns=J.ROOT-SERVERS.NET
	ns=K.ROOT-SERVERS.NET
	ns=L.ROOT-SERVERS.NET
	ns=M.ROOT-SERVERS.NET

#
#  because the public demands the name localsource
#
ip=127.0.0.1 sys=localhost dom=localhost

sys=cirno ether=f0def16da6f3
ipnet=dojo ip=10.42.0.0 ipmask=255.255.255.0
	ipgw=10.42.0.1
	authdom=dojo
	auth=cirno
	cpu=cirno
	fs=cirno
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;My “hostname” is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cirno&lt;/code&gt;, my network name is called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dojo&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;10.42.0.1&lt;/code&gt; is my NetworkManager dhcp server thing. My ip on my Thinkpad is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;10.42.0.61&lt;/code&gt;.
I had to get this file right and check it with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;netaudit&lt;/code&gt; to make sure everything worked. Then I needed to change &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;service=cpu&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/n/9fat/plan9.ini&lt;/code&gt; in order to get &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auth/keyfs&lt;/code&gt; running by default and listening on port &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;567&lt;/code&gt; for the cpu server.&lt;/p&gt;

&lt;p&gt;Then I needed to be still in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auth/keyfs&lt;/code&gt; daemon namespace and make a password in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;secstore&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auth/changeuser&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;If the user was not default, I needed to install the user to the fileserver.&lt;/p&gt;

&lt;p&gt;Then reboot!&lt;/p&gt;

&lt;p&gt;In the boot menu here is what I put in:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;authid: glenda
authdom: dojo
secstore key: &amp;lt;password for glenda&amp;gt;
password: &amp;lt;password for glenda&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then we have a shell.&lt;/p&gt;

&lt;p&gt;I needed to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip/ipconfig&lt;/code&gt; to make the network work in the shell (i think!).&lt;/p&gt;

&lt;p&gt;Then I could use&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;drawterm -h 10.42.0.61 -u glenda
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;on my linux machine with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;auth[10.42.0.61]&lt;/code&gt; left blank and the glenda password as the password.
Then run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rio&lt;/code&gt; and I am in!!!&lt;/p&gt;

&lt;p&gt;Hooray!&lt;/p&gt;

&lt;p&gt;Hopefully my future self thanks me for this, and I owe a huge thanks to Amavect for helping me with this. The next steps is to figure out how to run rio on start (like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;service=terminal&lt;/code&gt;) even when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;service=cpu&lt;/code&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Amavect&lt;/code&gt; said this was doable, and had something to with “services”.&lt;/p&gt;

&lt;p&gt;For completeness, here is my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/n/9fat/plan9.ini&lt;/code&gt; file:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bootfile=9pc64
bootargs=local!/dev/sdE0/fscache
mouseport=ps2
monitor=vesa
vgasize=1366x768x32
service=cpu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, these fqa links deal with the same things that I talked about in this post. (I wanted to put everything in one place)&lt;/p&gt;

&lt;p&gt;http://fqa.9front.org/fqa7.html#7.5.1
http://fqa.9front.org/fqa7.html#7.4&lt;/p&gt;</content><author><name></name></author><category term="plan9" /><category term="plan9" /><summary type="html">I have been recently learning about 9front, a modern distribution of plan9.</summary></entry></feed>